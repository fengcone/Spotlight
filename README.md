# Spotlight - macOS å¿«é€Ÿå¯åŠ¨å™¨

<div align="center">

ä¸€ä¸ªç®€æ´ã€é«˜æ•ˆçš„ macOS Spotlight æ›¿ä»£å“ï¼Œä¸“ä¸ºå¿«é€Ÿå¯åŠ¨åº”ç”¨ã€æœç´¢ç½‘é¡µå†å²å’Œæ™ºèƒ½è¡¥å…¨æ‰“é€ ã€‚

[![macOS](https://img.shields.io/badge/macOS-13.0+-blue.svg)](https://www.apple.com/macos)
[![Swift](https://img.shields.io/badge/Swift-5.9+-orange.svg)](https://swift.org)
[![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)

</div>

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸ¯ å…¨å±€å¿«æ·é”®
- é»˜è®¤ `Command + Space` éšæ—¶å‘¼å‡ºæœç´¢çª—å£
- å®Œå…¨å¯è‡ªå®šä¹‰å¿«æ·é”®ç»„åˆ
- æ”¯æŒä¸ºå¸¸ç”¨åº”ç”¨è®¾ç½®ä¸“å±å¿«æ·é”®

### ğŸ” æ™ºèƒ½æœç´¢
- **åº”ç”¨ç¨‹åºæœç´¢** - å¿«é€Ÿå¯åŠ¨æœ¬åœ°åº”ç”¨
- **Chrome ä¹¦ç­¾** - è®¿é—®æ”¶è—çš„ç½‘é¡µ
- **Chrome å†å²** - æ™ºèƒ½è®¿é—®é¢‘ç‡æ’åº
- **è¯å…¸ç¿»è¯‘** - è‹±æ–‡å•è¯å³æ—¶ç¿»è¯‘
- **IDE é¡¹ç›®** - å¿«é€Ÿæ‰“å¼€ CLionã€PyCharmã€GoLand é¡¹ç›®

### âš¡ï¸ é­”æ³•åç¼€
ä½¿ç”¨ç‰¹æ®Šåç¼€ç²¾ç¡®è¿‡æ»¤æœç´¢ç»“æœï¼š
- `å…³é”®è¯ ap` - åªæœç´¢åº”ç”¨ç¨‹åº
- `å…³é”®è¯ ch` - åªæœç´¢ Chrome ä¹¦ç­¾
- `å…³é”®è¯ hi` - åªæœç´¢æµè§ˆå†å²
- `å…³é”®è¯ di` - åªæœç´¢è¯å…¸
- `å…³é”®è¯ cl/qo/py/gl` - æœç´¢å¯¹åº” IDE çš„é¡¹ç›®

### ğŸ¨ ç°ä»£åŒ–ç•Œé¢
- æµ®åŠ¨çª—å£è®¾è®¡ï¼Œå§‹ç»ˆç½®é¡¶
- æ”¯æŒç¼–è¾‘å¿«æ·é”®ï¼ˆCommand+V/C/X/A/Zï¼‰
- é”®ç›˜å¯¼èˆªï¼ˆâ†‘â†“ é€‰æ‹©ï¼ŒEnter æ‰§è¡Œï¼ŒEscape å…³é—­ï¼‰
- ä¸åœ¨ Dock æ˜¾ç¤ºï¼Œä¸å¹²æ‰°å·¥ä½œæµ

## ğŸ“‹ ç³»ç»Ÿè¦æ±‚

- macOS 13.0 (Ventura) æˆ–æ›´é«˜ç‰ˆæœ¬
- Swift 5.9+
- Xcode Command Line Tools

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…æ–¹å¼ä¸€ï¼šæ‰“åŒ…å®‰è£…ï¼ˆæ¨èï¼‰

```bash
# 1. èµ‹äºˆæ‰§è¡Œæƒé™
chmod +x package.sh

# 2. æ‰“åŒ…æˆ .app åº”ç”¨
./package.sh

# 3. å®‰è£…åˆ°åº”ç”¨ç›®å½•
cp -r .build/Spotlight.app /Applications/
```

### å®‰è£…æ–¹å¼äºŒï¼šç›´æ¥ç¼–è¯‘è¿è¡Œ

```bash
# ä½¿ç”¨ Swift ç¼–è¯‘
swift build

# è¿è¡Œ
.build/debug/Spotlight
```

### é¦–æ¬¡è¿è¡Œé…ç½®

#### 1ï¸âƒ£ è¾…åŠ©åŠŸèƒ½æƒé™ï¼ˆå¿…éœ€ï¼‰

ç”¨äºç›‘å¬å…¨å±€å¿«æ·é”®ï¼š

1. æ‰“å¼€ **ç³»ç»Ÿè®¾ç½®** â†’ **éšç§ä¸å®‰å…¨æ€§** â†’ **è¾…åŠ©åŠŸèƒ½**
2. ç‚¹å‡» **+** æ·»åŠ  `Spotlight.app`
3. ç¡®ä¿å¼€å…³ä¸ºå¼€å¯çŠ¶æ€

#### 2ï¸âƒ£ å®Œå…¨ç£ç›˜è®¿é—®æƒé™ï¼ˆå¯é€‰ï¼‰

ç”¨äºè¯»å– Chrome ä¹¦ç­¾å’Œå†å²è®°å½•ï¼š

1. æ‰“å¼€ **ç³»ç»Ÿè®¾ç½®** â†’ **éšç§ä¸å®‰å…¨æ€§** â†’ **å®Œå…¨ç£ç›˜è®¿é—®æƒé™**
2. ç‚¹å‡» **+** æ·»åŠ  `Spotlight.app`
3. ç¡®ä¿å¼€å…³ä¸ºå¼€å¯çŠ¶æ€

> ğŸ’¡ **æç¤º**ï¼šä¸æˆäºˆæ­¤æƒé™æ—¶ï¼Œåº”ç”¨ä»å¯æ­£å¸¸æœç´¢åº”ç”¨ç¨‹åºï¼Œä½†æ— æ³•è®¿é—®æµè§ˆå™¨æ•°æ®ã€‚

## ğŸ® ä½¿ç”¨æŒ‡å—

### åŸºæœ¬æ“ä½œ

1. **å‘¼å‡ºæœç´¢** - æŒ‰ `Command + Space`
2. **è¾“å…¥å…³é”®è¯** - ç›´æ¥è¾“å…¥åº”ç”¨åæˆ–ç½‘å€å…³é”®è¯
3. **é€‰æ‹©ç»“æœ** - ç”¨ `â†‘` `â†“` é”®æˆ–é¼ æ ‡
4. **æ‰“å¼€** - æŒ‰ `Enter` æˆ–ç‚¹å‡»
5. **å…³é—­** - æŒ‰ `Escape` æˆ–ç‚¹å‡»çª—å£å¤–

### æœç´¢ç¤ºä¾‹

```
# æœç´¢åº”ç”¨
chrome          â†’ Google Chrome
vscode          â†’ Visual Studio Code

# æœç´¢ä¹¦ç­¾å’Œå†å²
github          â†’ GitHub ä¸»é¡µã€Issuesã€ä»“åº“ç­‰
qoder           â†’ Qoder ç¼–è¾‘å™¨é¡µé¢

# ç¿»è¯‘å•è¯
hello           â†’ æ˜¾ç¤ºè¯å…¸é‡Šä¹‰

# åªæœç´¢åº”ç”¨
chrome ap       â†’ åªæ˜¾ç¤º Chrome åº”ç”¨

# æœç´¢ CLion é¡¹ç›®
myproject cl    â†’ æ‰“å¼€ CLion ä¸­çš„ myproject
```

### è®¾ç½®å¿«æ·é”®

ç‚¹å‡»èœå•æ å›¾æ ‡ ğŸ” â†’ **è®¾ç½®**ï¼š
- è‡ªå®šä¹‰ä¸»å¿«æ·é”®
- é…ç½®åº”ç”¨ä¸“å±å¿«æ·é”®
- ç®¡ç† IDE é¡¹ç›®è·¯å¾„

## ğŸ“ é¡¹ç›®ç»“æ„

```
Spotlight/
â”œâ”€â”€ Sources/                      # æºä»£ç 
â”‚   â”œâ”€â”€ main.swift               # åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ AppDelegate.swift        # åº”ç”¨ä»£ç†
â”‚   â”œâ”€â”€ SearchWindow.swift       # æœç´¢çª—å£ UI
â”‚   â”œâ”€â”€ SearchEngine.swift       # æœç´¢å¼•æ“
â”‚   â”œâ”€â”€ ConfigManager.swift      # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ GlobalHotKeyMonitor.swift # å…¨å±€å¿«æ·é”®
â”‚   â”œâ”€â”€ DictionaryService.swift  # è¯å…¸æœåŠ¡
â”‚   â”œâ”€â”€ IDEProjectService.swift  # IDE é¡¹ç›®ç®¡ç†
â”‚   â”œâ”€â”€ SettingsView.swift       # è®¾ç½®ç•Œé¢
â”‚   â”œâ”€â”€ Logger.swift             # æ—¥å¿—ç³»ç»Ÿ
â”‚   â””â”€â”€ UsageHistory.swift       # ä½¿ç”¨å†å²
â”œâ”€â”€ Tests/                        # æµ‹è¯•ä»£ç 
â”‚   â”œâ”€â”€ UnitTests/               # å•å…ƒæµ‹è¯•
â”‚   â””â”€â”€ E2ETests/                # ç«¯åˆ°ç«¯æµ‹è¯•
â”œâ”€â”€ package.sh                    # æ‰“åŒ…è„šæœ¬
â”œâ”€â”€ run_tests.sh                  # æµ‹è¯•è„šæœ¬
â”œâ”€â”€ ide_config.json              # IDE é…ç½®
â”œâ”€â”€ Spotlight.entitlements       # æƒé™é…ç½®
â””â”€â”€ Package.swift                 # Swift Package é…ç½®
```

## ğŸ”§ æŠ€æœ¯æ ˆ

| ç±»åˆ« | æŠ€æœ¯ |
|------|------|
| è¯­è¨€ | Swift 5.9+ |
| UI æ¡†æ¶ | SwiftUI + AppKit |
| ç³»ç»Ÿæ¡†æ¶ | Carbon (å¿«æ·é”®)ã€Cocoa |
| æ•°æ®åº“ | SQLite3 (æµè§ˆå™¨å†å²) |
| å­˜å‚¨ | UserDefaults (é…ç½®) |
| æ¶æ„ | MVVM |

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½å®ç°

### æœç´¢æºä¸ä¼˜å…ˆçº§

1. **åº”ç”¨ç¨‹åº** (æœ€é«˜ä¼˜å…ˆçº§)
   - æ‰«æ `/Applications`ã€`~/Applications`ã€`/System/Applications`
   - æå–åº”ç”¨å…ƒæ•°æ®å’Œå›¾æ ‡

2. **IDE é¡¹ç›®** (é«˜ä¼˜å…ˆçº§)
   - æ”¯æŒ CLionã€PyCharmã€GoLand ç­‰
   - é€šè¿‡ URL Scheme æ‰“å¼€é¡¹ç›®

3. **è¯å…¸ç¿»è¯‘** (ä¸­ä¼˜å…ˆçº§)
   - ç³»ç»Ÿè¯å…¸æœåŠ¡
   - æ˜¾ç¤ºéŸ³æ ‡å’Œè¯¦ç»†é‡Šä¹‰

4. **Chrome ä¹¦ç­¾** (ä¸­ä¼˜å…ˆçº§)
   - ä» `~/Documents/Spotlight/bookmarks_*.html` è¯»å–
   - éœ€æ‰‹åŠ¨å¯¼å‡ºä¹¦ç­¾

5. **Chrome å†å²** (ä½ä¼˜å…ˆçº§)
   - è¯»å– `~/Library/Application Support/Google/Chrome/Default/History`
   - æŒ‰è®¿é—®é¢‘ç‡æ™ºèƒ½æ’åº
   - å®šæ—¶åˆ·æ–°ï¼ˆæ¯ 30 ç§’ï¼‰

### æ¨¡ç³ŠåŒ¹é…ç®—æ³•

- **ç²¾ç¡®åŒ¹é…** - 100 åˆ†
- **å‰ç¼€åŒ¹é…** - 90 åˆ†
- **åŒ…å«åŒ¹é…** - 80 åˆ†
- **å¤šå…³é”®è¯** - AND é€»è¾‘ï¼Œæ‰€æœ‰å…³é”®è¯å¿…é¡»åŒ¹é…

### æ™ºèƒ½æ’åº

ç»“åˆä»¥ä¸‹å› ç´ ï¼š
- åŒ¹é…åˆ†æ•°
- ç±»å‹ä¼˜å…ˆçº§
- ä½¿ç”¨å†å²é¢‘ç‡

## ğŸ§ª æµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
chmod +x run_tests.sh
./run_tests.sh

# æˆ–ä½¿ç”¨ Swift Package Manager
swift test
```

æµ‹è¯•è¦†ç›–ç‡ï¼š
- ConfigManager: ~95%
- SearchEngine: ~85%
- GlobalHotKeyMonitor: ~75%
- æ€»ä½“: ~70%

## ğŸ“ æ—¥å¿—ç³»ç»Ÿ

### æŸ¥çœ‹æ—¥å¿—

```bash
# æ‰“åŒ…åº”ç”¨æ—¥å¿—ä½ç½®
~/Library/Logs/Spotlight/spotlight-YYYY-MM-DD.log

# å®æ—¶æŸ¥çœ‹
tail -f ~/Library/Logs/Spotlight/spotlight-$(date +%Y-%m-%d).log

# ç›´æ¥è¿è¡ŒäºŒè¿›åˆ¶æ—¶ï¼Œæ—¥å¿—è¾“å‡ºåˆ°æ§åˆ¶å°
./Spotlight 2>&1 | tee debug.log
```

### æ—¥å¿—çº§åˆ«

- `DEBUG` - è°ƒè¯•ä¿¡æ¯
- `INFO` - ä¸€èˆ¬ä¿¡æ¯  
- `WARN` - è­¦å‘Šä¿¡æ¯
- `ERROR` - é”™è¯¯ä¿¡æ¯

## ğŸ› æ•…éšœæ’æŸ¥

### å¿«æ·é”®ä¸å“åº”

1. æ£€æŸ¥è¾…åŠ©åŠŸèƒ½æƒé™æ˜¯å¦å·²æˆäºˆ
2. é‡å¯åº”ç”¨
3. æŸ¥çœ‹æ—¥å¿—ä¸­çš„é”™è¯¯ä¿¡æ¯

### æ— æ³•è¯»å–æµè§ˆå™¨æ•°æ®

1. æ£€æŸ¥å®Œå…¨ç£ç›˜è®¿é—®æƒé™
2. ç¡®ä¿ Chrome å†å²æ–‡ä»¶å­˜åœ¨
3. å®Œå…¨é€€å‡ºåº”ç”¨åé‡å¯

### è¾“å…¥æ¡†æ— æ³•è¾“å…¥

1. ç‚¹å‡»è¾“å…¥æ¡†è·å¾—ç„¦ç‚¹
2. æ£€æŸ¥çª—å£æ˜¯å¦æˆä¸º Key Window
3. æŸ¥çœ‹æ—¥å¿—ä¸­çš„ TextField çŠ¶æ€

### æ— æ³•æ‰“å¼€ .app æ–‡ä»¶

```bash
# ç§»é™¤éš”ç¦»å±æ€§
xattr -d com.apple.quarantine /Applications/Spotlight.app
```

## ğŸ›£ï¸ è·¯çº¿å›¾

### v1.1ï¼ˆè¿›è¡Œä¸­ï¼‰
- [x] è¯å…¸ç¿»è¯‘åŠŸèƒ½
- [x] IDE é¡¹ç›®é›†æˆ
- [x] ç¼–è¾‘å¿«æ·é”®æ”¯æŒ
- [ ] æ€§èƒ½ä¼˜åŒ–
- [ ] æ›´å¤šæµè§ˆå™¨æ”¯æŒ

### v2.0ï¼ˆè®¡åˆ’ä¸­ï¼‰
- [ ] æ–‡ä»¶ç³»ç»Ÿæœç´¢
- [ ] è®¡ç®—å™¨åŠŸèƒ½
- [ ] æ’ä»¶ç³»ç»Ÿ
- [ ] è‡ªå®šä¹‰ä¸»é¢˜
- [ ] å‰ªè´´æ¿å†å²

## ğŸ¤ è´¡çŒ®

æ¬¢è¿è´¡çŒ®ä»£ç ã€æŠ¥å‘Š Bug æˆ–æå‡ºå»ºè®®ï¼

1. Fork æœ¬é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æäº¤ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

## ğŸ™ è‡´è°¢

- [Carbon Framework](https://developer.apple.com/documentation/carbon) - å…¨å±€å¿«æ·é”®æ”¯æŒ
- [SwiftUI](https://developer.apple.com/documentation/swiftui) - ç°ä»£åŒ– UI æ¡†æ¶
- æ‰€æœ‰è´¡çŒ®è€…å’Œä½¿ç”¨è€…

---

<div align="center">

**äº«å—ä½ çš„ä¸ªæ€§åŒ– Spotlightï¼** ğŸš€

[æŠ¥å‘Šé—®é¢˜](https://github.com/yourusername/spotlight/issues) Â· [åŠŸèƒ½å»ºè®®](https://github.com/yourusername/spotlight/issues/new)

</div>
